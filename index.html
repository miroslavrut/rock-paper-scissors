<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Rock|Paper|Scissors</title>
  </head>
  <body>
    <h1>First to three wins the game! </h1>
    <br>
    <h2>Type game() in console to start</h2>
    <script>
          let compScore = 0;
          let playerScore = 0;

          function playerInput(){
          let playerSelection = prompt("Pick your weapon","").toUpperCase();
          if(!(playerSelection == "ROCK" || playerSelection =="PAPER"
           || playerSelection =="SCISSORS")){
             alert("Invalid choice!");
             playerSelection= playerInput();
           }
          return playerSelection;
        }

        function computerPlay() {
            return randNum()==1 ? "ROCK" : randNum()==2 ? "PAPER" : "SCISSORS";
          }

          function randNum() {
            return (Math.floor(Math.random() * 3) +1);
          }

          function playRound() {
            let roundWinner;
            let playerChoice= playerInput();
            let computerChoice= computerPlay();
            if (playerChoice === computerChoice){
               roundWinner = "draw";
               console.log("DRAW");
             }
            else if(playerChoice == "ROCK" && computerChoice=="SCISSORS"
               || playerChoice == "PAPER" && computerChoice=="ROCK"
               || playerChoice =="SCISSORS" && computerChoice=="PAPER"){
                 roundWinner ="player";
                 console.log("You won this round!");
               }
            else {
            roundWinner = "computer";
            console.log("Computer won this round!");
            }
            return roundWinner;
          }

          function score(){
            let winner=playRound();
            if(winner === "player") ++playerScore;
            else if(winner === "computer") ++compScore;
          }

          function game() {
            score();
            if(playerScore === 3)
              alert("Yeeey, you win!");
            else if (compScore === 3)
              alert("Noob, computer owned you!");
            else game();
          }
    </script>
  </body>
</html>
